{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gaming/Desktop/html/product-feedback/src/app/add/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport Lottie from \"lottie-react\";\r\nimport animationData from \"../Animation - 1748181041132.json\";\r\nimport animationCancel from \"../Animation - 1748797716617.json\";\r\n\r\nconst Page = () => {\r\n  const route = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [categoryFilter, setCategoryFilter] = useState(\"Select a Category\");\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isCancelling, setIsCancelling] = useState(false);\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setLoading(false), 1000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <Lottie animationData={animationData} loop={true} />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"flex items-start justify-center gap-10 min-h-screen p-10 add\">\r\n      <button onClick={() => route.push(\"/\")}>\r\n        <Image\r\n          src={\"/assets/shared/icon-arrow-left.svg\"}\r\n          width={8}\r\n          height={4}\r\n          alt=\"arrow left\"\r\n        />\r\n        Go Back\r\n      </button>\r\n      <div>\r\n        <Image\r\n          src={\"/assets/shared/icon-new-feedback.svg\"}\r\n          width={56}\r\n          height={56}\r\n          alt=\"arrow left\"\r\n        />\r\n        <h1>Create New Feedback</h1>\r\n\r\n        <form\r\n          onSubmit={async (e) => {\r\n            e.preventDefault();\r\n            setIsSubmitting(true);\r\n            setError(\"\");\r\n            const publicUserId = localStorage.getItem(\"publicUserId\");\r\n            const title = (\r\n              e.currentTarget.elements.namedItem(\"title\") as HTMLInputElement\r\n            ).value;\r\n            const description = (\r\n              e.currentTarget.elements.namedItem(\r\n                \"detail\"\r\n              ) as HTMLTextAreaElement\r\n            ).value;\r\n            if (\r\n              !title ||\r\n              !description ||\r\n              !publicUserId ||\r\n              categoryFilter === \"Select a category\"\r\n            ) {\r\n              setError(\"Please fill in all fields and choose a category.\");\r\n              setIsSubmitting(false);\r\n              return;\r\n            }\r\n            const res = await fetch(\"/api/add-feedback\", {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify({\r\n                title,\r\n                description,\r\n                publicUserId,\r\n                category: categoryFilter,\r\n              }),\r\n            });\r\n            if (res.ok) {\r\n              setTimeout(() => {\r\n                route.push(\"/\");\r\n              }, 300);\r\n            } else {\r\n              setError(\"Failed to add feedback.\");\r\n            }\r\n            setIsSubmitting(false);\r\n          }}\r\n        >\r\n          <div>\r\n            <label htmlFor=\"title\">Feedback Title</label>\r\n            <p>Add a short, descriptive headline</p>\r\n            <input type=\"text\" name=\"title\" id=\"title\" />\r\n          </div>{\" \"}\r\n          <div className=\"relative\">\r\n            <label htmlFor=\"category\">Category</label>\r\n            <p>Choose a category for your feedback</p>\r\n            <div\r\n              className=\"dropdown-trigger\"\r\n              onClick={() => setShowDropdown((prev) => !prev)}\r\n            >\r\n              {categoryFilter}\r\n              <Image\r\n                src={\"/assets/shared/icon-arrow-down.svg\"}\r\n                width={8}\r\n                height={4}\r\n                alt=\"arrow down\"\r\n              />\r\n            </div>\r\n\r\n            {showDropdown && (\r\n              <ul className=\"dropdown-menu\">\r\n                {[\"UI\", \"UX\", \"Enhancement\", \"Bug\", \"Feature\"].map((cat) => (\r\n                  <li\r\n                    key={cat}\r\n                    onClick={() => {\r\n                      setCategoryFilter(cat);\r\n                      setShowDropdown(false);\r\n                    }}\r\n                    className={categoryFilter === cat ? \"active\" : \"\"}\r\n                  >\r\n                    {cat}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"Detail\">Feedback Detail</label>\r\n            <p>\r\n              Include any specific comments on what should be improved, added,\r\n              etc.\r\n            </p>\r\n            <textarea name=\"detail\" id=\"detail\"></textarea>\r\n          </div>\r\n          <div className=\"btnContainer\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setIsCancelling(true);\r\n                setTimeout(() => route.push(\"/\"), 300);\r\n              }}\r\n            >\r\n              {isCancelling ? (\r\n                <Lottie\r\n                  animationData={animationCancel}\r\n                  loop={true}\r\n                  autoplay={true}\r\n                  className=\"upvoteLoad\"\r\n                />\r\n              ) : (\r\n                \"Cancel\"\r\n              )}\r\n            </button>\r\n\r\n            <button type=\"submit\" disabled={isSubmitting}>\r\n              {isSubmitting ? (\r\n                <Lottie\r\n                  animationData={animationCancel}\r\n                  loop={true}\r\n                  autoplay={true}\r\n                  className=\"upvoteLoad\"\r\n                />\r\n              ) : (\r\n                \"Add Feedback\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n        {error && <p className=\"error\">{error}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}